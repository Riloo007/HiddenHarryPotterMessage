import{c as e}from"./WikiTools-a2a88e39.js";import{d as t}from"./dropdowns-5d3aa612.js";import{g as i,a as o}from"./tracking-8967809f.js";import{e as a}from"./events-26bd72fc.js";import"./SearchModalInit-282825e8.js";import"./runtime-36d0ba27.js";import"./js.cookie-bb991f48.js";import"./index-3c341042.js";function n(e){var t;null===(t=e.querySelector(".mobile-community-bar__level-1"))||void 0===t||t.classList.remove("wds-is-hidden"),e.querySelectorAll(".mobile-community-bar__level-2").forEach((function(e){return e.classList.remove("wds-is-active")})),e.querySelectorAll(".mobile-community-bar__level-3").forEach((function(e){return e.classList.remove("wds-is-active")}))}var r;function c(){var a=document.querySelector(".mobile-community-bar"),c=document.querySelector(".mobile-community-bar__navigation > .wds-dropdown");if(a&&function(e){e&&o(e,[{category:"community-header",selector:"[data-tracking-label]",label:function(e){return e.getAttribute("data-tracking-label")},name:"communityBar"}])}(a),c){r=function(e){var o=e.querySelector(".wds-dropdown__toggle");if(o){var a=t.handleDropdownForTouchScreen(e);o.addEventListener("click",(function(t){t.stopPropagation(),n(e),e.classList.contains("wds-is-active")&&i()({category:"community-header",label:"nav-expanded"})}));var r=function(t){!t.target.closest(".mobile-community-bar__navigation .wds-dropdown__content")&&e.classList.contains("wds-is-active")&&n(e)};return document.body.addEventListener("click",r),function(){document.body.removeEventListener("click",r),a&&a()}}}(c);c.addEventListener("click",(function(t){!function(e,t){var i=e.target,o=i.closest(".mobile-community-bar__level-1 a, .mobile-community-bar__level-2 ul a");if(o){var a=i.closest(".mobile-community-bar__level-1");if(a){var n=o.dataset.index,r=t.querySelector('.mobile-community-bar__level-2[data-index="'.concat(n,'"]'));r&&(a.classList.add("wds-is-hidden"),null==r||r.classList.add("wds-is-active"),e.preventDefault(),e.stopPropagation())}else{var c=i.closest(".mobile-community-bar__level-2");if(c){var l=o.dataset.level2Index,s=t.querySelector('.mobile-community-bar__level-3[data-level2-index="'.concat(l,'"]'));s&&(c.classList.remove("wds-is-active"),s.classList.add("wds-is-active"),e.preventDefault(),e.stopPropagation())}}}}(t,c),function(e,t){var i=e.target.closest(".mobile-community-bar__navigation-back"),o=t.querySelector(".mobile-community-bar__level-1");if(i&&o){var a=i.closest(".mobile-community-bar__level-2");a&&(a.classList.remove("wds-is-active"),o.classList.remove("wds-is-hidden"),e.preventDefault());var n=i.closest(".mobile-community-bar__level-3");if(n){var r;n.classList.remove("wds-is-active");var c=null===(r=n.dataset.level2Index)||void 0===r?void 0:r.split(":")[0],l=t.querySelector('.mobile-community-bar__level-2[data-index="'.concat(c,'"]'));null==l||l.classList.add("wds-is-active"),e.preventDefault()}}}(t,c),e(t,12)})),function(e){e&&o(e,[{category:"mobile-theme",selector:".wiki-tools__theme-switch",label:function(e){return e.getAttribute("data-tracking")},name:"mobile-theme-switcher"}])}(c)}}a.on("FGC_communitybar_Rendered",(function(){c()})),a.on("FGC_communitybar_Destroyed",(function(){r&&r()}));
